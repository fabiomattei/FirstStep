{ 
	"name": "documentsubscriptionv1",
	"metadata": { "type":"document", "version": "1" },
	"sourcegroups": [ "public" ],
	"destinationgroups": [ "administrationgroup", "teachergroup" ],
	"title": [ "name", "amount" ],
	"fields": [
		{ "type":"textarea", "validation":"max_len,2500", "name":"name", "label":"Name", "placeholder":"Name", "value":"name", "width":"6", "row":"1" },
		{ "type":"currency", "validation":"required|numeric", "name":"amount", "label":"Amount", "placeholder":"10.0", "value":"amount", "width":"6", "row":"1"  },
		{ "type":"date", "validation":"max_len,10", "name":"duedate", "label":"Due date", "value":"duedate", "width":"12", "row":"2" },
		{ "type":"hidden", "validation":"required|numeric", "name":"id", "value":"id", "row":"2" }
	],
	"entity": {
        "tablename": "requestv1",
	    "engine": "InnoDB DEFAULT",
	    "charset": "utf8",
	    "collate": "utf8_bin",
        "fields": [
		  { "type":"int(10) UNSIGNED NOT NULL", "validation":"required|numeric", "name":"id" },
          { "type":"VARCHAR(255)", "validation":"max_len,2500", "name":"name" },
          { "type":"INT", "validation":"required|numeric", "name":"amount" },
          { "type":"DATE", "validation":"max_len,10", "name":"duedate" }
        ],
	    "primary":"id",
	    "alter": [
	  	  { "type":"int(10) UNSIGNED NOT NULL AUTO_INCREMENT", "name":"id" }
	    ]
    },
	"table": {
    	"title": "My table",
    	"fields": [
        	{ "headline":"Name", "name":"name" },
        	{ "headline":"Amount", "name":"amount" }
    	]
	},
	"logics": [
		{
		"oninsert": [
			{  	"type": "update",
				"entity": "requestv1",
				"fields": [
					{ "field": "name", "operator": "=", "value": "name" },
					{ "field": "amount", "operator": "=", "value": "amount" },
					{ "field": "duedate", "operator": "=", "value": "duedate" }
				],
				"conditions": [
					{ "field": "id", "operator": "=", "value": "id" }
				]
			}
		],
		"onupdate": [],
		"ondelete": []
		}
	]
}
