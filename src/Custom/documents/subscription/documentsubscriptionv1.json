{ 
	"name": "documentsubscriptionv1",
	"title": "Subscription to ski class",
	"metadata": { "type":"document", "version": "1" },
	"sourcegroups": [ "public", "managergroup" ],
	"destinationgroups": [ "administrationgroup", "teachergroup", "managergroup" ],
	"object": [ "name", "amount" ],
	"fields": [
		{ "type":"textarea", "dbtype":"TEXT", "validation":"max_len,2500", "name":"name", "label":"Name", "placeholder":"Name", "sqlfield":"name", "width":"6", "row":"1" },
		{ "type":"currency", "validation":"required|numeric", "name":"amount", "label":"Amount", "placeholder":"10.0", "sqlfield":"amount", "width":"6", "row":"1"  },
		{ "type":"date", "validation":"max_len,10", "name":"duedate", "label":"Due date", "sqlfield":"duedate", "width":"12", "row":"2" }
	],
	"table": {
    	"title": "My table",
    	"fields": [
        	{ "headline":"Name", "name":"name" },
        	{ "headline":"Amount", "name":"amount" }
    	]
	},
	"oninsert": {
		"logics": [
			{  
				"sql":"INSERT INTO requestv1 (name, amount, duedate) VALUES (:name, :amount, :duedate);",
        		"parameters":[
          			{ "placeholder": ":name", "postparameter": "name" },
          			{ "placeholder": ":amount", "postparameter": "amount" },
          			{ "placeholder": ":duedate", "postparameter": "duedate" }
        		]
			}
		], 
		"updates": [
			{
				"body":[ "name", "amount" ],
				"type":"new Subscription to ski class",
				"destinationgroups": [ "administrationgroup", "teachergroup", "managergroup" ],
				"action": { "action":"documentinfo", "resource":"documentsubscriptionv1", "parameters":[{"name":"id", "value":"id"}] }
			}
		]
	},
	"onupdate": {},
	"onsend": {},
	"onaccept": {},
	"onreject": {},
	"ondelete": {}
}
