{ 
  "name": "articleexportv1",
  "metadata": { "type":"export", "version": "1" },
  "documenttype":"xls",
  "filename":"requests",
  "allowedgroups": [ "author" ],
  "get": {
    "form": {
      "title": "Search and export",
      "submitTitle": "Export",
      "fields": [
        { "type":"textarea", "validation":"max_len,2500", "name":"name", "label":"Name", "placeholder":"Name", "value":"name", "width":"12", "row":"1" },
        { "type": "submitbutton", "width":"2", "row":"3", "name": "Save", "constantparameter": "Save" }
      ]
    }
  },
  "post": {
    "query": {
      "sql":"select id, name, amount, duedate FROM requestv1 WHERE name=:name;",
      "parameters":[
        { "placeholder": ":name", "postparameter": "name" }
      ]
    },
    "table": {
      "title": "My table",
      "fields": [
        { "headline": "Name", "sqlfield":"name" },
        { "headline": "Amount", "sqlfield":"amount" },
        { "headline": "Due date", "sqlfield":"duedate" }
      ]
    },
    "aggregation": [
      { "label":"Total amount", "operator": "+", "field":"amount" }
    ]
  }
}
